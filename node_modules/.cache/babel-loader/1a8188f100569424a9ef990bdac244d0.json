{"ast":null,"code":"import _classCallCheck from\"E:\\\\S\\\\Shop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\S\\\\Shop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\S\\\\Shop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\S\\\\Shop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{GoogleLogin,GoogleLogout}from'react-google-login';var CLIENT_ID='2374969714-bhtuug9he2tct5rm2ubeocvbcdocdc4l.apps.googleusercontent.com';var GoogleBtn=/*#__PURE__*/function(_Component){_inherits(GoogleBtn,_Component);var _super=_createSuper(GoogleBtn);function GoogleBtn(){var _this;_classCallCheck(this,GoogleBtn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isLogined:false,accessToken:''};_this.login=function(response){if(response.accessToken){_this.setState(function(state){return{isLogined:true,accessToken:response.accessToken};});sessionStorage.setItem('token',_this.state.accessToken);}};_this.logout=function(response){_this.setState(function(state){return{isLogined:false,accessToken:''};});sessionStorage.removeItem('token');};_this.handleLoginFailure=function(response){alert('Failed to log in');};_this.handleLogoutFailure=function(response){alert('Failed to log out');};return _this;}_createClass(GoogleBtn,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,this.state.isLogined?/*#__PURE__*/React.createElement(GoogleLogout,{clientId:CLIENT_ID,buttonText:\"Logout\",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure}):/*#__PURE__*/React.createElement(GoogleLogin,{clientId:CLIENT_ID,buttonText:\"Login\",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:'single_host_origin',responseType:\"code,token\"}));}}]);return GoogleBtn;}(Component);export default GoogleBtn;","map":{"version":3,"sources":["E:/S/Shop/src/components/googleButton.js"],"names":["React","Component","GoogleLogin","GoogleLogout","CLIENT_ID","GoogleBtn","state","isLogined","accessToken","login","response","setState","sessionStorage","setItem","logout","removeItem","handleLoginFailure","alert","handleLogoutFailure"],"mappings":"4gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,YAAtB,KAA0C,oBAA1C,CACA,GAAMC,CAAAA,SAAS,CAAG,wEAAlB,C,GACMC,CAAAA,S,uUACFC,K,CAAQ,CACNC,SAAS,CAAE,KADL,CAENC,WAAW,CAAE,EAFP,C,OAIVC,K,CAAS,SAACC,QAAD,CAAc,CACrB,GAAGA,QAAQ,CAACF,WAAZ,CAAwB,CACtB,MAAKG,QAAL,CAAc,SAAAL,KAAK,QAAK,CACtBC,SAAS,CAAE,IADW,CAEtBC,WAAW,CAAEE,QAAQ,CAACF,WAFA,CAAL,EAAnB,EAIAI,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgC,MAAKP,KAAL,CAAWE,WAA3C,EACD,CACF,C,OACDM,M,CAAS,SAACJ,QAAD,CAAc,CACrB,MAAKC,QAAL,CAAc,SAAAL,KAAK,QAAK,CACtBC,SAAS,CAAE,KADW,CAEtBC,WAAW,CAAE,EAFS,CAAL,EAAnB,EAIAI,cAAc,CAACG,UAAf,CAA0B,OAA1B,EACD,C,OACDC,kB,CAAqB,SAACN,QAAD,CAAc,CACjCO,KAAK,CAAC,kBAAD,CAAL,CACD,C,OACDC,mB,CAAsB,SAACR,QAAD,CAAc,CAClCO,KAAK,CAAC,mBAAD,CAAL,CACD,C,4EAEQ,CACP,mBACA,+BACI,KAAKX,KAAL,CAAWC,SAAX,cACA,oBAAC,YAAD,EACE,QAAQ,CAAGH,SADb,CAEE,UAAU,CAAC,QAFb,CAGE,eAAe,CAAG,KAAKU,MAHzB,CAIE,SAAS,CAAG,KAAKI,mBAJnB,EADA,cAOE,oBAAC,WAAD,EACA,QAAQ,CAAGd,SADX,CAEA,UAAU,CAAC,OAFX,CAGA,SAAS,CAAG,KAAKK,KAHjB,CAIA,SAAS,CAAG,KAAKO,kBAJjB,CAKA,YAAY,CAAG,oBALf,CAMA,YAAY,CAAC,YANb,EARN,CADA,CAqBD,C,uBAlDqBf,S,EAqDxB,cAAeI,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\nconst CLIENT_ID = '2374969714-bhtuug9he2tct5rm2ubeocvbcdocdc4l.apps.googleusercontent.com';\r\nclass GoogleBtn extends Component {\r\n    state = {\r\n      isLogined: false,\r\n      accessToken: ''\r\n  }\r\n  login  = (response) => {\r\n    if(response.accessToken){\r\n      this.setState(state => ({\r\n        isLogined: true,\r\n        accessToken: response.accessToken\r\n      }));\r\n      sessionStorage.setItem('token', this.state.accessToken);\r\n    }\r\n  }\r\n  logout = (response) => {\r\n    this.setState(state => ({\r\n      isLogined: false,\r\n      accessToken: ''\r\n    }));\r\n    sessionStorage.removeItem('token');\r\n  }\r\n  handleLoginFailure = (response) => {\r\n    alert('Failed to log in')\r\n  }\r\n  handleLogoutFailure = (response) => {\r\n    alert('Failed to log out')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      { this.state.isLogined ?\r\n        <GoogleLogout\r\n          clientId={ CLIENT_ID }\r\n          buttonText='Logout'\r\n          onLogoutSuccess={ this.logout }\r\n          onFailure={ this.handleLogoutFailure }\r\n          />\r\n        : <GoogleLogin\r\n          clientId={ CLIENT_ID }\r\n          buttonText='Login'\r\n          onSuccess={ this.login }\r\n          onFailure={ this.handleLoginFailure }\r\n          cookiePolicy={ 'single_host_origin' }\r\n          responseType='code,token'\r\n        />\r\n      }\r\n      {/* { this.state.accessToken ? <h5>Your Access Token: <br/><br/> { this.state.accessToken }</h5> : null } */}\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GoogleBtn;"]},"metadata":{},"sourceType":"module"}